import{_ as v}from"./DidrvKe_.js";import b from"./ZB2_K6q9.js";import V from"./kEgi6I2y.js";import k from"./q-JK5kLX.js";import S from"./CPm9_Uib.js";import{p as N,e as U,f as L,r as c,u as B,c as _,a as l,b as o,q as C,d as p,w as s,j as e,t as E,o as f}from"./rXjCf5nY.js";import"./Dj0sbWsm.js";import"./LRZgX-Ci.js";import"./CqixAVAd.js";import"./B7T39L2X.js";import"./DVbDOtTj.js";import"./C6XMGHRq.js";import"./BJ2ClxiI.js";import"./Cd8xZgT4.js";import"./CHOj1P8S.js";import"./CUlfEDMs.js";const q={class:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900"},A={class:"max-w-md w-full space-y-8 p-8"},I={class:"text-center"},O={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},$={key:0,class:"text-red-500 text-sm text-center"},et={__name:"login",setup(j){const{$client:F}=N(),x=U(),a=L({email:"",password:""}),i=c(!1),n=c("");async function y(){i.value=!0,n.value="";try{const r=await $fetch("/api/auth/login",{method:"POST",body:a,baseURL:"http://localhost:3001"});localStorage.setItem("auth_token",r.token),localStorage.setItem("user",JSON.stringify(r.user)),await x.push("/chat")}catch(r){n.value=r?.data?.error||"Login failed"}finally{i.value=!1}}return B({title:"Login - Chat App",meta:[{name:"description",content:"Sign in to your Chat App account"}]}),(r,t)=>{const g=v,u=b,d=V,w=k,h=S;return f(),_("div",q,[l("div",A,[l("div",I,[t[4]||(t[4]=l("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," Sign in to your account ",-1)),l("p",O,[t[3]||(t[3]=p(" Or ",-1)),o(g,{to:"/auth/register",class:"text-primary-600 hover:text-primary-500"},{default:s(()=>[...t[2]||(t[2]=[p(" create a new account ",-1)])]),_:1})])]),o(h,{state:e(a),onSubmit:y,class:"space-y-6"},{default:s(()=>[o(d,{label:"Email",name:"email"},{default:s(()=>[o(u,{modelValue:e(a).email,"onUpdate:modelValue":t[0]||(t[0]=m=>e(a).email=m),type:"email",placeholder:"Enter your email",required:""},null,8,["modelValue"])]),_:1}),o(d,{label:"Password",name:"password"},{default:s(()=>[o(u,{modelValue:e(a).password,"onUpdate:modelValue":t[1]||(t[1]=m=>e(a).password=m),type:"password",placeholder:"Enter your password",required:""},null,8,["modelValue"])]),_:1}),o(w,{type:"submit",color:"primary",variant:"solid",size:"lg",loading:e(i),class:"w-full"},{default:s(()=>[...t[5]||(t[5]=[p(" Sign in ",-1)])]),_:1},8,["loading"])]),_:1},8,["state"]),e(n)?(f(),_("div",$,E(e(n)),1)):C("",!0)])])}}};export{et as default};
