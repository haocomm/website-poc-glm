import{s as O,H as y,I as _,x as a,Q as i,L as v,P as m,R as A,S as I}from"./rXjCf5nY.js";import x from"./Dj0sbWsm.js";import{u as w}from"./CqixAVAd.js";import{m as P}from"./DIM_ClvK.js";import"./LRZgX-Ci.js";const B={wrapper:"flex flex-col gap-2 w-full",base:"flex flex-row flex-nowrap flex-shrink overflow-hidden",background:"bg-gray-200 dark:bg-gray-700",transition:"transition-all",rounded:"rounded-full",shadow:"",list:"list-disc list-inside",orientation:{"rounded-none":{left:"rounded-s-none",right:"rounded-e-none"},"rounded-sm":{left:"rounded-s-sm",right:"rounded-e-sm"},rounded:{left:"rounded-s",right:"rounded-e"},"rounded-md":{left:"rounded-s-md",right:"rounded-e-md"},"rounded-lg":{left:"rounded-s-lg",right:"rounded-e-lg"},"rounded-xl":{left:"rounded-s-xl",right:"rounded-e-xl"},"rounded-2xl":{left:"rounded-s-2xl",right:"rounded-e-2xl"},"rounded-3xl":{left:"rounded-s-3xl",right:"rounded-e-3xl"},"rounded-full":{left:"rounded-s-full",right:"rounded-e-full"}},default:{size:"md",icon:"i-heroicons-minus-20-solid"}},g=y(v.ui.strategy,v.ui.meter,P),z=y(v.ui.strategy,v.ui.meterGroup,B),L=O({components:{UIcon:x},inheritAttrs:!1,slots:Object,props:{min:{type:Number,default:0},max:{type:Number,default:100},size:{type:String,default:()=>g.default.size,validator(t){return Object.keys(g.meter.bar.size).includes(t)}},indicator:{type:Boolean,default:!1},icon:{type:String,default:()=>z.default.icon},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(t,{slots:d}){const{ui:o,attrs:C}=w("meterGroup",_(t,"ui"),z),{ui:n}=w("meter",void 0,g);if(!d.default)throw new Error("Meter Group has no Meter children.");const M=a(()=>t.min>t.max?t.max:t.min),$=a(()=>t.max<t.min?t.min:t.max),s=a(()=>I(d)),h=a(()=>o.value.orientation[o.value.rounded]);function G(r,l,e){if(l==e)return r<l?0:100;l>e&&(e=[l,l=e][0]);const u=(r-l)/(e-l)*100;return Math.max(0,Math.min(100,u))}const b=a(()=>s.value.map(r=>r.props.label)),f=a(()=>s.value.map(r=>G(r.props.value,t.min,t.max))),p=a(()=>Math.max(0,Math.max(f.value.reduce((r,l)=>r+l,0)))),c=a(()=>s.value.map((r,l)=>{const e={};e.style={width:`${f.value[l]}%`},e.size=t.size,e.min=M.value,e.max=$.value,e.ui=r.props?.ui||{},e.ui.wrapper=r.props?.ui?.wrapper||"",e.ui.wrapper+=[r.props?.ui?.wrapper,o.value.background,o.value.transition].filter(Boolean).join(" "),e.ui.meter=r.props?.ui?.meter||{},e.ui.meter.background=`bg-${r.props.color}-500 dark:bg-${r.props.color}-400`,e.ui.meter.rounded="rounded-none",e.ui.meter.bar=r.props?.ui?.meter?.bar||{},l===0&&(e.ui.meter.rounded=`${h.value.left} rounded-e-none`),l===s.value.length-1&&(e.ui.meter.rounded=`${h.value.right} rounded-s-none`),b.value[l]=r.props.label;const u=A(r,e);return delete u.children?.label,delete u.props?.indicator,delete u.props?.label,u})),S=a(()=>m(o.value.base,o.value.background,o.value.rounded,o.value.shadow,n.value.meter.size[t.size])),j=a(()=>m(n.value.indicator.container)),k=a(()=>m(n.value.indicator.text,n.value.indicator.size[t.size])),N=a(()=>{const r=[void 0,i("div",{class:S.value},c.value),void 0];return t.indicator?r[0]=i("div",{class:j.value},[i("div",{class:k.value,style:{width:`${p.value}%`}},Math.round(p.value)+"%")]):d.indicator&&(r[0]=d.indicator({percent:p.value})),r[2]=i("ol",{class:o.value.list},b.value.map((l,e)=>{const u=a(()=>m(n.value.label.base,n.value.label.text,n.value.color[c.value[e]?.props.color]??n.value.label.color.replaceAll("{color}",c.value[e]?.props.color??n.value.default.color),n.value.label.size[t.size]));return i("li",{class:u.value},[i(x,{name:c.value[e]?.props.icon??t.icon}),`${l} (${Math.round(f.value[e])}%)`])})),r});return()=>i("div",{class:o.value.wrapper,...C.value},N.value)}});export{L as default};
