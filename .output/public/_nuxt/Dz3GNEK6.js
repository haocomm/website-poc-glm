import P from"./Dj0sbWsm.js";import{_ as j}from"./B2jv10bl.js";import D from"./q-JK5kLX.js";import{r as H,x as b,_ as I,s as V,B as g,o as n,w as q,a as B,n as r,c as m,q as l,D as v,C as S,F as O,i as U,N as A,W as E,T as J,H as L,I as R,J as W,g as G,h as K,O as z,L as M,y as Q,P as T,d as N,t as F}from"./rXjCf5nY.js";import{u as X}from"./CqixAVAd.js";import{g as Y}from"./CUlfEDMs.js";import"./LRZgX-Ci.js";import"./C6XMGHRq.js";import"./DidrvKe_.js";import"./BJ2ClxiI.js";import"./Cd8xZgT4.js";import"./DVbDOtTj.js";import"./CHOj1P8S.js";const Z={wrapper:"w-full pointer-events-auto",container:"relative overflow-hidden",inner:"w-0 flex-1",title:"text-sm font-medium text-gray-900 dark:text-white",description:"mt-1 text-sm leading-4 text-gray-500 dark:text-gray-400",descriptionOnly:"mt-0 leading-5",actions:"flex items-center gap-2 mt-3 flex-shrink-0",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-lg",padding:"p-4",gap:"gap-3",ring:"ring-1 ring-gray-200 dark:ring-gray-800",icon:{base:"flex-shrink-0 w-5 h-5",color:"text-{color}-500 dark:text-{color}-400"},avatar:{base:"flex-shrink-0 self-center",size:"md"},progress:{base:"absolute bottom-0 end-0 start-0 h-1",background:"bg-{color}-500 dark:bg-{color}-400"},transition:{enterActiveClass:"transform ease-out duration-300 transition",enterFromClass:"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2",enterToClass:"translate-y-0 opacity-100 sm:translate-x-0",leaveActiveClass:"transition ease-in duration-100",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"},default:{color:"primary",icon:null,timeout:5e3,closeButton:{icon:"i-heroicons-x-mark-20-solid",color:"gray",variant:"link",padded:!1},actionButton:{size:"xs",color:"white"}}};function _(e,s,i){let u=null;const{pause:t,resume:y,timestamp:p}=Y({controls:!0}),a=H(null),c=b(()=>a.value?s-(p.value-a.value):0);function o(...k){u=setTimeout(()=>{u=null,a.value=null,e(...k)},c.value)}function d(){u&&(clearTimeout(u),u=null)}function f(){a.value=Date.now(),o()}function w(){d(),t()}function $(){d(),t()}function h(){o(),y(),a.value=(a.value||0)+(Date.now()-p.value)}return f(),{start:f,stop:w,pause:$,resume:h,remaining:c}}const C=L(M.ui.strategy,M.ui.notification,Z),x=V({components:{UIcon:P,UAvatar:j,UButton:D},inheritAttrs:!1,props:{id:{type:[String,Number],required:!0},title:{type:String,default:null},description:{type:String,default:null},icon:{type:String,default:()=>C.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>C.default.closeButton},timeout:{type:Number,default:()=>C.default.timeout},actions:{type:Array,default:()=>[]},callback:{type:Function,default:null},color:{type:String,default:()=>C.default.color,validator(e){return["gray",...M.ui.colors].includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},pauseTimeoutOnHover:{type:Boolean,default:!0}},emits:["close"],setup(e,{emit:s}){const{ui:i,attrs:u}=X("notification",R(e,"ui"),C);let t=null;const y=H(e.timeout),p=b(()=>z(T(i.value.wrapper,i.value.background?.replaceAll("{color}",e.color),i.value.rounded,i.value.shadow,i.value.ring?.replaceAll("{color}",e.color)),e.class)),a=b(()=>T(i.value.progress.base,i.value.progress.background?.replaceAll("{color}",e.color))),c=b(()=>({width:`${y.value/e.timeout*100||0}%`})),o=b(()=>T(i.value.icon.base,i.value.icon.color?.replaceAll("{color}",e.color)));function d(){e.pauseTimeoutOnHover&&t&&t.pause()}function f(){e.pauseTimeoutOnHover&&t&&t.resume()}function w(){t&&t.stop(),e.callback&&e.callback(),s("close")}function $(k){t&&t.stop(),k.click&&k.click(),s("close")}function h(){t&&t.stop(),e.timeout&&(t=_(()=>{w()},e.timeout),Q(()=>{y.value=t.remaining.value}))}return W(()=>e.timeout,h),G(h),K(()=>{t&&t.stop()}),{ui:i,attrs:u,wrapperClass:p,progressClass:a,progressStyle:c,iconClass:o,onMouseover:d,onMouseleave:f,onClose:w,onAction:$,twMerge:z}}});function ee(e,s,i,u,t,y){const p=P,a=j,c=D;return n(),g(J,v({appear:""},e.ui.transition),{default:q(()=>[B("div",v({class:e.wrapperClass,role:"status"},e.attrs,{onMouseover:s[0]||(s[0]=(...o)=>e.onMouseover&&e.onMouseover(...o)),onMouseleave:s[1]||(s[1]=(...o)=>e.onMouseleave&&e.onMouseleave(...o))}),[B("div",{class:r([e.ui.container,e.ui.rounded,e.ui.ring])},[B("div",{class:r(["flex",[e.ui.padding,e.ui.gap,{"items-start":e.description||e.$slots.description,"items-center":!e.description&&!e.$slots.description}]])},[e.icon?(n(),g(p,{key:0,name:e.icon,class:r(e.iconClass)},null,8,["name","class"])):l("",!0),e.avatar?(n(),g(a,v({key:1},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):l("",!0),B("div",{class:r(e.ui.inner)},[e.title||e.$slots.title?(n(),m("p",{key:0,class:r(e.ui.title)},[S(e.$slots,"title",{title:e.title},()=>[N(F(e.title),1)])],2)):l("",!0),e.description||e.$slots.description?(n(),m("div",{key:1,class:r(e.twMerge(e.ui.description,!e.title&&!e.$slots.title&&e.ui.descriptionOnly))},[S(e.$slots,"description",{description:e.description},()=>[N(F(e.description),1)])],2)):l("",!0),(e.description||e.$slots.description)&&e.actions.length?(n(),m("div",{key:2,class:r(e.ui.actions)},[(n(!0),m(O,null,U(e.actions,(o,d)=>(n(),g(c,v({key:d},{ref_for:!0},{...e.ui.default.actionButton||{},...o},{onClick:A(f=>e.onAction(o),["stop"])}),null,16,["onClick"]))),128))],2)):l("",!0)],2),e.closeButton||!e.description&&!e.$slots.description&&e.actions.length?(n(),m("div",{key:2,class:r(e.twMerge(e.ui.actions,"mt-0"))},[!e.description&&!e.$slots.description&&e.actions.length?(n(!0),m(O,{key:0},U(e.actions,(o,d)=>(n(),g(c,v({key:d},{ref_for:!0},{...e.ui.default.actionButton||{},...o},{onClick:A(f=>e.onAction(o),["stop"])}),null,16,["onClick"]))),128)):l("",!0),e.closeButton?(n(),g(c,v({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{onClick:A(e.onClose,["stop"])}),null,16,["onClick"])):l("",!0)],2)):l("",!0)],2),e.timeout?(n(),m("div",{key:0,class:r(e.progressClass),style:E(e.progressStyle)},null,6)):l("",!0)],2)],16)]),_:3},16)}const fe=I(x,[["render",ee]]);export{fe as default};
