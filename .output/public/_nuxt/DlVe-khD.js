import{_ as V}from"./DidrvKe_.js";import b from"./ZB2_K6q9.js";import v from"./kEgi6I2y.js";import k from"./q-JK5kLX.js";import C from"./CPm9_Uib.js";import{e as U,f as S,r as c,u as N,c as _,a as l,b as o,q as R,d,w as r,j as t,t as q,o as f}from"./rXjCf5nY.js";import"./Dj0sbWsm.js";import"./LRZgX-Ci.js";import"./CqixAVAd.js";import"./B7T39L2X.js";import"./DVbDOtTj.js";import"./C6XMGHRq.js";import"./BJ2ClxiI.js";import"./Cd8xZgT4.js";import"./CHOj1P8S.js";import"./CUlfEDMs.js";const A={class:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900"},B={class:"max-w-md w-full space-y-8 p-8"},E={class:"text-center"},I={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},P={key:0,class:"text-red-500 text-sm text-center"},Z={__name:"register",setup(j){const x=U(),a=S({username:"",email:"",password:""}),i=c(!1),m=c("");async function y(){i.value=!0,m.value="";try{const s=await $fetch("/api/auth/register",{method:"POST",body:a,baseURL:"http://localhost:3001"});localStorage.setItem("auth_token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),await x.push("/chat")}catch(s){m.value=s?.data?.error||"Registration failed"}finally{i.value=!1}}return N({title:"Register - Chat App",meta:[{name:"description",content:"Create your Chat App account"}]}),(s,e)=>{const g=V,u=b,p=v,w=k,h=C;return f(),_("div",A,[l("div",B,[l("div",E,[e[5]||(e[5]=l("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," Create your account ",-1)),l("p",I,[e[4]||(e[4]=d(" Already have an account? ",-1)),o(g,{to:"/auth/login",class:"text-primary-600 hover:text-primary-500"},{default:r(()=>[...e[3]||(e[3]=[d(" Sign in ",-1)])]),_:1})])]),o(h,{state:t(a),onSubmit:y,class:"space-y-6"},{default:r(()=>[o(p,{label:"Username",name:"username"},{default:r(()=>[o(u,{modelValue:t(a).username,"onUpdate:modelValue":e[0]||(e[0]=n=>t(a).username=n),type:"text",placeholder:"Choose a username",required:""},null,8,["modelValue"])]),_:1}),o(p,{label:"Email",name:"email"},{default:r(()=>[o(u,{modelValue:t(a).email,"onUpdate:modelValue":e[1]||(e[1]=n=>t(a).email=n),type:"email",placeholder:"Enter your email",required:""},null,8,["modelValue"])]),_:1}),o(p,{label:"Password",name:"password"},{default:r(()=>[o(u,{modelValue:t(a).password,"onUpdate:modelValue":e[2]||(e[2]=n=>t(a).password=n),type:"password",placeholder:"Create a password",required:""},null,8,["modelValue"]),e[6]||(e[6]=l("p",{class:"text-xs text-gray-500 mt-1"}," Password must be at least 6 characters long ",-1))]),_:1}),o(w,{type:"submit",color:"primary",variant:"solid",size:"lg",loading:t(i),class:"w-full"},{default:r(()=>[...e[7]||(e[7]=[d(" Create Account ",-1)])]),_:1},8,["loading"])]),_:1},8,["state"]),t(m)?(f(),_("div",P,q(t(m)),1)):R("",!0)])])}}};export{Z as default};
